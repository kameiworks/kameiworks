{{ define "main" }}
  <section class="pv5-l pv4 ph3 ph0-l">
    <div class="flex flex-column flex-row-ns">
      <div class="w-100 w-75-ns pr4-ns">
        <div class="mw8 center">

          {{/* 1. すべての通常の記事を取得 */}}
          {{ $pages := .Site.RegularPages }}
          
          {{/* 2. すべてのセクションのインデックス（_index.md）を取得 */}}
          {{ $sections := .Site.Sections }}

          {{/* 3. 記事とセクションを結合し、日付順で並べ替える */}}
          {{ $allPages := $pages | union $sections }}
          {{ $allPages = $allPages.ByDate.Reverse }}
          
          {{/* 4. hidden=trueではないものだけをフィルタリングして表示 */}}
          {{ range where $allPages "Params.hidden" "!=" true }}
            {{ .Render "summary" }}
          {{ end }}

        </div>
      </div>
    </div>
  </section>
{{ end }}

